(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{365:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"html5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html5"}},[t._v("#")]),t._v(" HTML5")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("第一行：声明文档：标准、怪异")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("语义化标签、移除过时的显示效果标记")])]),t._v(" "),a("li",[a("p",[t._v("多媒体元素、video、audio")])]),t._v(" "),a("li",[a("p",[t._v("新的表单控件、date、time")])]),t._v(" "),a("li",[a("p",[t._v("canvas")])]),t._v(" "),a("li",[a("p",[t._v("API：文件读取、位置/网络信息、存储（本地离线存储、本地数据库存储）")])])]),t._v(" "),a("h2",{attrs:{id:"事件流-捕获冒泡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件流-捕获冒泡"}},[t._v("#")]),t._v(" 事件流：捕获冒泡")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("顺序先捕获再冒泡")])]),t._v(" "),a("li",[a("p",[t._v("讲的顺序")]),t._v(" "),a("ol",[a("li",[t._v("第一讲冒泡"),a("code",[t._v("p -> div -> body -> html -> document")])]),t._v(" "),a("li",[t._v("第二讲捕获"),a("code",[t._v("document -> html -> body -> div -> p")])])])]),t._v(" "),a("li",[a("p",[t._v("如果就是指本被点击元素，")]),t._v(" "),a("p",[t._v("捕获不会在冒泡之前，而是绑定的监听事件的顺序")])])]),t._v(" "),a("h4",{attrs:{id:"阻止冒泡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阻止冒泡"}},[t._v("#")]),t._v(" 阻止冒泡")]),t._v(" "),a("p",[t._v("在事件处理函数中：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event.stopPropagation()")])]),t._v(" "),a("li",[t._v("返回 false  ，不仅阻止了事件往上冒泡，而且阻止了事件本身(默认事件)")]),t._v(" "),a("li",[a("code",[t._v("event.target==event.currentTarget")]),t._v("，让触发事件的元素等于绑定事件的元素，也可以阻止事件冒泡；")])]),t._v(" "),a("h4",{attrs:{id:"阻止默认事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阻止默认事件"}},[t._v("#")]),t._v(" 阻止默认事件")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("event.preventDefault( )")])]),t._v(" "),a("li",[t._v("return false")])]),t._v(" "),a("h3",{attrs:{id:"addevenlistener-第三个参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#addevenlistener-第三个参数"}},[t._v("#")]),t._v(" addEvenListener 第三个参数")]),t._v(" "),a("p",[t._v("默认值- false- 事件默认在"),a("strong",[t._v("冒泡")]),t._v("阶段执行")]),t._v(" "),a("p",[t._v("是true，则按照事件捕获的顺序执行")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n　　"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n　　　　"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("child"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n　　"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"box"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nchild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"child"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// child")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// box")]),t._v("\n")])])]),a("p",[t._v("添加true，事件执行顺序变成捕获顺序：box->child，所以box 先执行")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("box"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"box"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nchild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"child"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// box")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// child")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("on 和 addEventListener 的区别？")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("onclick会覆盖")])]),t._v(" "),a("li",[a("p",[t._v("addEventListener 可以无限添加事件")])])])]),t._v(" "),a("h3",{attrs:{id:"事件代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件代理"}},[t._v("#")]),t._v(" 事件代理")]),t._v(" "),a("p",[t._v("绑定事件在父元素上，子元素触发判断当前target")]),t._v(" "),a("h1",{attrs:{id:"js阻塞dom渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js阻塞dom渲染"}},[t._v("#")]),t._v(" JS阻塞DOM渲染")]),t._v(" "),a("p",[t._v("默认：一读到JS就加载并执行")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("推迟加载：把CSS、JS放末尾")])]),t._v(" "),a("li",[a("p",[t._v("defer ，延迟加载，效果和上面一样（DOMContentLoaded ），可以保证顺序")])]),t._v(" "),a("li",[a("p",[t._v("async异步加载：一下载完就执行，不保证执行顺序")])]),t._v(" "),a("li",[a("p",[t._v("动态创建script（window.onload）")])])]),t._v(" "),a("h1",{attrs:{id:"dom解析、渲染的阻塞"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom解析、渲染的阻塞"}},[t._v("#")]),t._v(" DOM解析、渲染的阻塞")]),t._v(" "),a("blockquote",[a("p",[t._v("解析是指浏览器生成 DOM 树结构（此时用户不一定能看到，但脚本比如 "),a("code",[t._v("querySelectorAll")]),t._v(" 可以访问到）")]),t._v(" "),a("p",[t._v("渲染是指浏览器把 DOM 树与 CSS 结合进行布局并绘制到屏幕（此时用户是可以看到的）")])]),t._v(" "),a("h2",{attrs:{id:"dom渲染流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom渲染流程"}},[t._v("#")]),t._v(" DOM渲染流程")]),t._v(" "),a("ol",[a("li",[t._v("下载HTML，解析DOM")]),t._v(" "),a("li",[t._v("遇到CSS"),a("code",[t._v("link[rel=stylesheet]")]),t._v("时，加入并行下载队列，继续解析DOM")]),t._v(" "),a("li",[t._v("遇到JS，暂停DOM解析，"),a("strong",[t._v("立刻下载JS")]),t._v("，并执行，在其中可以访问当前脚本前的DOM")]),t._v(" "),a("li",[t._v("JS结束，主线程回到渲染侧，继续解析DOM")]),t._v(" "),a("li",[t._v("DOM解析完成，触发"),a("code",[t._v("DOMContentLoaded")]),t._v("事件")])]),t._v(" "),a("blockquote",[a("p",[t._v("很多被墙的网站加载及其缓慢就是因为DOM主体前有脚本被挡在墙外了。")])]),t._v(" "),a("p",[t._v("阻塞：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("遇到CSS，事件循环进入 渲染侧，JS也会停下。会先解析CSS树，再与DOM 树结合渲染，所以DOM 树渲染会停下，解析不会停。")])]),t._v(" "),a("li",[a("p",[t._v("遇到JS 时，"),a("strong",[t._v("立刻下载JS")]),t._v("，事件循环进入JS侧执行，DOM渲染/解析都会停下")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"assets/0.HTML/pre-party.png",alt:"img"}})]),t._v(" "),a("p",[t._v("串行，前面延迟后影响后面")]),t._v(" "),a("p",[t._v("浏览器在这方面已经做了很多优化，例如它会猜测你将要打开的页面，并预先解析 DNS 甚至直接下载它们。")]),t._v(" "),a("p",[t._v("优化点：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("渲染阻塞")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("CSS在上，JS在下，异步载入")])]),t._v(" "),a("li",[a("p",[t._v("CSS添加媒体查询，减少阻塞")]),t._v(" "),a("p",[t._v("优化：响应式站点可以添加媒体查询，来避免不必要的阻塞。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("other.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("media")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(min-width: 40em)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("设置script 属性")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("defer")]),t._v("推迟，让该JS在 "),a("code",[t._v("DOMContentLoaded")]),t._v(" 前执行。")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("async")])]),t._v(" 并行请求")])])])])]),t._v(" "),a("li",[a("p",[t._v("资源并发限制，添加"),a("code",[t._v("prefetch")]),t._v("，"),a("code",[t._v("prerender")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("dns 预解析")]),t._v(" "),a("p",[t._v("对重定向也有用，host1.com/resource > 301 > host2.com/resource ，设置 "),a("code",[t._v("dns-prefetch: host2.com")])])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("dns-prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("example.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("http 预加载")]),t._v(" "),a("p",[a("code",[t._v("prefetch")]),t._v(" 优先级最低")])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prefetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("checkout.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("子资源subresource")]),t._v(" "),a("p",[t._v("浏览器会在当前访问页面时立即下载它们，优先级高")])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("subresource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("critical/app.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ul",[a("li",[a("p",[t._v("预渲染")]),t._v(" "),a("p",[a("strong",[t._v("用 "),a("code",[t._v("prerender")]),t._v(" 来让浏览器在后台事先渲染好整个页面")])])])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("prerender"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("checkout.html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"动态插入script"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态插入script"}},[t._v("#")]),t._v(" 动态插入script")]),t._v(" "),a("h3",{attrs:{id:"执行内联脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行内联脚本"}},[t._v("#")]),t._v(" 执行内联脚本")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script start"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console.log(\"foo\")'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等价于")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script.text = 'console.log(\"foo\")';")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script.innerText = 'console.log(\"foo\")';")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// script.innerHTML = 'console.log(\"foo\")';")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script end"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("code",[t._v(".appendChild")]),t._v(" 阻塞的，需要等到JS运行结束才返回。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("script start\nfoo\nscript end\n")])])]),a("h3",{attrs:{id:"执行外部脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行外部脚本"}},[t._v("#")]),t._v(" 执行外部脚本")]),t._v(" "),a("p",[t._v("外部脚本的插入是异步的不会阻塞 DOM 解析")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" script "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("此外有一个细节可能需要注意：一旦设置了 "),a("code",[t._v("src")]),t._v(" 属性，"),a("code",[t._v("<script>")]),t._v(" 标签本身的所有内容就不会再被执行了。")])]),t._v(" "),a("h3",{attrs:{id:"innerhtml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#innerhtml"}},[t._v("#")]),t._v(" innerHTML")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<script src=\"foo.js\"><\/script>'")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<script>console.log(\"foo\")<\/script>'")]),t._v("\n")])])]),a("h2",{attrs:{id:"异步加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步加载"}},[t._v("#")]),t._v(" 异步加载")]),t._v(" "),a("h3",{attrs:{id:"异步加载脚本-插入外链脚本标签"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步加载脚本-插入外链脚本标签"}},[t._v("#")]),t._v(" 异步加载脚本：插入外链脚本标签")]),t._v(" "),a("p",[t._v("加载中")]),t._v(" "),a("p",[t._v("浏览器“载入中”的标志会让用户感觉网页慢！load事件发生时，"),a("code",[t._v("载入中")]),t._v("消失")]),t._v(" "),a("p",[t._v("可以设置在load之后再去获取js，这时不会再阻塞DOM 的渲染了")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/will-not-stop-loading.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"异步加载脚本-xhr-eval"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步加载脚本-xhr-eval"}},[t._v("#")]),t._v(" 异步加载脚本：XHR+Eval")]),t._v(" "),a("p",[t._v("XHR下载整个脚本，"),a("code",[t._v("eval()")]),t._v("来执行这个脚本。")]),t._v(" "),a("p",[a("code",[t._v("eval()")]),t._v("是不安全的，可以创建一个"),a("code",[t._v("<script>")]),t._v("标签，并把XHR获取的脚本注入进去。 再把 "),a("code",[t._v("<script>")]),t._v(" 标签插入 DOM 它的内容就会执行。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/sth.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eval"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"异步加载脚本-defer-async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步加载脚本-defer-async"}},[t._v("#")]),t._v(" 异步加载脚本：Defer/Async")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("one.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--异步执行--\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("one.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("defer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--延迟执行--\x3e")]),t._v(" \n")])])]),a("p",[a("img",{attrs:{src:"assets/0.HTML/acyn-vs-defer.jpg",alt:"defer vs async"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("默认：遇到JS时，HTML停止解析，立即去下载和执行JS")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("defer")]),t._v("延迟执行：先下载，等HTML解析完毕（"),a("code",[t._v("DOMContentLoaded")]),t._v("事件）再执行")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("async")]),t._v("：下载完JS 后，再停下解析，立马去执行JS")])])]),t._v(" "),a("h3",{attrs:{id:"资源载入事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源载入事件"}},[t._v("#")]),t._v(" 资源载入事件")]),t._v(" "),a("p",[t._v("事件：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("现代浏览器"),a("strong",[t._v("只会")]),t._v("触发"),a("code",[t._v("onload")]),t._v("和"),a("code",[t._v("onerror")]),t._v("，")])]),t._v(" "),a("li",[a("p",[t._v("IE下"),a("strong",[t._v("只会")]),t._v("触发"),a("code",[t._v("onreadystatechange")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createScript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://cdn.jsdelivr.net/npm/react@15.4.0/dist/react.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createScript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://harttle.land/this/will/404.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createScript")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" el "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onerror")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'readystatechange'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("(1)  顺序")]),t._v(" "),a("p",[t._v("①  解析HTML结构；")]),t._v(" "),a("p",[t._v("②  加载外部脚本和样式表文件；")]),t._v(" "),a("p",[t._v("③  解析并执行脚本代码；")]),t._v(" "),a("p",[t._v("④  DOM树构建完成；//DOMContentLoaded")]),t._v(" "),a("p",[t._v("⑤  加载图片等外部文件；")]),t._v(" "),a("p",[t._v("⑥  页面加载完毕。//load")]),t._v(" "),a("p",[t._v("DOMContentLoaded事件：意思是HTML"),a("strong",[t._v("下载、解析")]),t._v("完毕之后就触发。（ DOM树构建完成）")]),t._v(" "),a("p",[t._v("Load：html、css、js、图片等都已完成"),a("strong",[t._v("加载")])])]),t._v(" "),a("h1",{attrs:{id:"判断用户的设备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#判断用户的设备"}},[t._v("#")]),t._v(" 判断用户的设备")]),t._v(" "),a("p",[a("code",[t._v("navigator.userAgent")]),t._v("对象")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("browser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("versions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mobile"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//判断是否是移动设备打开。browser代码在下面")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ua "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userAgent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获取判断用的对象")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ua"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("MicroMessenger")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("i")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"micromessenger"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在微信中打开")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ua"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("WeiBo")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("i")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"weibo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在新浪微博客户端打开")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ua"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("QQ")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("i")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在QQ空间打开")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("browser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("versions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否在IOS浏览器打开")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("browser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("versions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("android"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否在安卓浏览器打开")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//否则就是PC浏览器打开")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h1",{attrs:{id:"性能监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能监控"}},[t._v("#")]),t._v(" 性能监控")]),t._v(" "),a("p",[t._v("http://www.alloyteam.com/2020/01/14184/")]),t._v(" "),a("p",[t._v("https://juejin.cn/post/6911472693405548557")]),t._v(" "),a("h2",{attrs:{id:"监控内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监控内容"}},[t._v("#")]),t._v(" 监控内容：")]),t._v(" "),a("ol",[a("li",[t._v("响应速度：页面初始访问速度 + 交互响应（动画）速度")]),t._v(" "),a("li",[t._v("页面稳定性：页面出错率")]),t._v(" "),a("li",[t._v("外部服务调用：网络请求访问速度")])]),t._v(" "),a("h2",{attrs:{id:"_1-页面访问速度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-页面访问速度"}},[t._v("#")]),t._v(" 1. 页面访问速度")]),t._v(" "),a("p",[a("strong",[t._v("白屏、首屏、可交互时间")])]),t._v(" "),a("p",[a("img",{attrs:{src:"assets/0.HTML/006tNbRwgy1gah51k3lg8j31bi0gg45d.jpg",alt:"1"}})]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("体验")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("出现")]),t._v(" "),a("td",[t._v("FP，初次绘制、FCP，初次内容绘制")])]),t._v(" "),a("tr",[a("td",[t._v("可用")]),t._v(" "),a("td",[t._v("FMP、初次有意义绘制")])]),t._v(" "),a("tr",[a("td",[t._v("能用")]),t._v(" "),a("td",[t._v("TTI，响应时间")])]),t._v(" "),a("tr",[a("td",[t._v("爽")]),t._v(" "),a("td",[t._v("长任务")])])])]),t._v(" "),a("p",[t._v("1）FP")]),t._v(" "),a("p",[t._v("window.performance")]),t._v(" "),a("p",[t._v("报错上传：重写window.onerror")]),t._v(" "),a("h1",{attrs:{id:"前端性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端性能优化"}},[t._v("#")]),t._v(" 前端性能优化")]),t._v(" "),a("ol",[a("li",[a("p",[a("strong",[t._v("传得少")])]),t._v(" "),a("ol",[a("li",[t._v("压缩\n"),a("ol",[a("li",[t._v("Gzip")]),t._v(" "),a("li",[t._v("JS、CSS：uglify压缩（去除log）")]),t._v(" "),a("li",[t._v("图片：icon font、svg、雪碧图、base64存进local storage")])])]),t._v(" "),a("li",[t._v("缓存\n"),a("ol",[a("li",[t._v("缓存：Expires、Cache-Control、Etag、Last-Modified")])])]),t._v(" "),a("li",[t._v("请求控制\n"),a("ol",[a("li",[t._v("防抖节流")]),t._v(" "),a("li",[t._v("文件不大于25K")]),t._v(" "),a("li",[t._v("懒加载\n"),a("ol",[a("li",[t._v("vue-router使用路由懒加载")]),t._v(" "),a("li",[t._v("图片懒加载")])])]),t._v(" "),a("li",[t._v("Cookie瘦身")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("传的快")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("单页面6个请求限制：减少HTTP请求、使用多域名、CDN")])]),t._v(" "),a("li",[a("p",[t._v("使用外部JS、CSS")])]),t._v(" "),a("li",[a("p",[t._v("defer、async延迟加载、异步加载")])]),t._v(" "),a("li",[a("p",[t._v("预查询（减少DNS查询）、预加载")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("流畅")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("渲染")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("加载顺序CSS放在头部，JS放底部、内联关键样式")])]),t._v(" "),a("li",[a("p",[t._v("减少DOM 数量、DOM操作")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("减少重绘重排（只composting）")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("读写分离")]),t._v(" "),a("ul",[a("li",[t._v("缓存布局（大小）信息")]),t._v(" "),a("li",[t._v("别边读边写")])])]),t._v(" "),a("li",[a("p",[t._v("属性集中一次修改")]),t._v(" "),a("p",[a("code",[t._v('el.style.cssText += "; left: " + left + "px; top: " + top + "px;";')])])]),t._v(" "),a("li",[a("p",[t._v("DOM离线修改，后替换")]),t._v(" "),a("p",[t._v("用"),a("code",[t._v("documentFragment")]),t._v("对象在内存里操作DOM")])]),t._v(" "),a("li",[a("p",[t._v("绝对定位")]),t._v(" "),a("p",[t._v("位置固定，开销小，可以把动画放在这上面")])]),t._v(" "),a("li",[a("p",[t._v("opacity、z-index新建图层，减少composting")])])])])])]),t._v(" "),a("li",[a("p",[t._v("CSS优化")]),t._v(" "),a("ol",[a("li",[t._v("内联首屏关键CSS")]),t._v(" "),a("li",[t._v("选择器优化")]),t._v(" "),a("li",[t._v("不使用@import，用 link")])])])])]),t._v(" "),a("li",[a("p",[t._v("动画")]),t._v(" "),a("ol",[a("li",[t._v("requestAnimationFrame")])])]),t._v(" "),a("li",[a("p",[t._v("长列表")]),t._v(" "),a("ol",[a("li",[t._v("raf+Fragment")])])]),t._v(" "),a("li",[a("p",[t._v("心理控制：加载动画、骨架")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("开发")])]),t._v(" "),a("ol",[a("li",[t._v("vue\n"),a("ol",[a("li",[t._v("v-if和v-show")]),t._v(" "),a("li",[t._v("watch和computed")]),t._v(" "),a("li",[t._v("v-for必须添加key")]),t._v(" "),a("li",[t._v("beforeDestroy销毁定时器")])])]),t._v(" "),a("li",[t._v("wepack\n"),a("ol",[a("li",[t._v("开发快\n"),a("ol",[a("li",[t._v("编译快\n"),a("ol",[a("li",[t._v("缓存")]),t._v(" "),a("li",[t._v("文件检索：loader 范围、常用后缀排序、别名映射")]),t._v(" "),a("li",[t._v("多线程happypack")]),t._v(" "),a("li",[t._v("treeshaking")]),t._v(" "),a("li",[t._v("提前打包DllPlugin")]),t._v(" "),a("li",[t._v("无依赖的库跳过解析module.noParse")])])])])]),t._v(" "),a("li",[t._v("生产快\n"),a("ol",[a("li",[t._v("业务和依赖分离打包")]),t._v(" "),a("li",[t._v("按需加载")]),t._v(" "),a("li",[t._v("Scope Hoisting\n将所有模块的代码按照引用顺序放在一个函数作用域里")]),t._v(" "),a("li",[t._v("Tree Shaking\n删除未使用代码、CSS")])])])])])])])]),t._v(" "),a("h2",{attrs:{id:"性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能优化"}},[t._v("#")]),t._v(" 性能优化")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("网络传输")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("H2")]),t._v(" "),a("ol",[a("li",[t._v("多路复用")]),t._v(" "),a("li",[t._v("二进制压缩")]),t._v(" "),a("li",[t._v("头部压缩")]),t._v(" "),a("li",[t._v("服务端推送（不用开，因为资源怎么加载在nginx那边配置）")]),t._v(" "),a("li",[t._v("...")])])]),t._v(" "),a("li",[a("p",[t._v("CDN")]),t._v(" "),a("ol",[a("li",[t._v("缓存策略调优\n"),a("ol",[a("li",[t._v("客户端缓存\n"),a("ol",[a("li",[t._v("强缓存")]),t._v(" "),a("li",[t._v("协商缓存")])])]),t._v(" "),a("li",[t._v("CDN节点缓存\n"),a("ol",[a("li",[t._v("缓存时间")]),t._v(" "),a("li",[t._v("缓存刷新")]),t._v(" "),a("li",[t._v("缓存预热")])])])])])])]),t._v(" "),a("li",[a("p",[t._v("DNS预解析")]),t._v(" "),a("p",[a("code",[t._v('<link rel="dns-prefetch" href="//example.com">')])])]),t._v(" "),a("li",[a("p",[t._v("预连接(提前建立连接)")]),t._v(" "),a("p",[a("code",[t._v('<link rel="preconnect" href="//example.com">')])]),t._v(" "),a("p",[a("code",[t._v('<link rel="preconnect" href="//cdn.example.com" crossorigin>')])])]),t._v(" "),a("li",[a("p",[t._v("域名收敛")]),t._v(" "),a("p",[t._v("把⻚面资源部署在尽可能少的域名下。")]),t._v(" "),a("p",[t._v("随着时代发展『域名发散』逐渐落后，使用『域名收敛』配合 H2，可以最大化的节省 DNS 解析、TCP 建连等网络成本，更好的发挥其多路复用的优势，大幅提升⻚面性能。")])]),t._v(" "),a("li",[a("p",[t._v("brotli压缩")]),t._v(" "),a("p",[t._v("谷歌2015发布，比gzip，更高压缩比、性能")])]),t._v(" "),a("li",[a("p",[t._v("优化 https")]),t._v(" "),a("p",[t._v("性能拉垮原因：多次握手、TLS相关算法计算")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("session resume")]),t._v(" "),a("p",[t._v("昂贵的计算结果放session中复用")])]),t._v(" "),a("li",[a("p",[t._v("OCSP Stampling（RFC6066 第 8 节）")])]),t._v(" "),a("li",[a("p",[t._v("TLS 1.3")]),t._v(" "),a("p",[t._v("只需要一次往返（1-RTT）即可完成握手")])]),t._v(" "),a("li",[a("p",[t._v("TCP Fast Open")])]),t._v(" "),a("li",[a("p",[t._v("HSTS（强制HTTPS）")])])])])])]),t._v(" "),a("li",[a("p",[t._v("缓存")]),t._v(" "),a("ol",[a("li",[t._v("DNS缓存\n"),a("ol",[a("li",[t._v("浏览器缓存->操作系统缓存->DNS缓存")])])]),t._v(" "),a("li",[t._v("宿主缓存")]),t._v(" "),a("li",[t._v("运行时缓存")])])]),t._v(" "),a("li",[a("p",[t._v("资源")])]),t._v(" "),a("li",[a("p",[t._v("运行时")])]),t._v(" "),a("li",[a("p",[t._v("接口")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);